@model BookPoint.Models.AuthViewModel
@{
	ViewData["Title"] = "Login & Register - BooksPoint";
}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>BooksPoint - Sign In</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
	<link href="~/css/LoginRegister.css" rel="stylesheet">
</head>

<body>

	<div class="floating-elements">
		<div class="floating-book"><i class="fas fa-book"></i></div>
		<div class="floating-book"><i class="fas fa-book-open"></i></div>
		<div class="floating-book"><i class="fas fa-journal-whills"></i></div>
		<div class="floating-book"><i class="fas fa-book-reader"></i></div>
	</div>

	<div class="container">
		<div class="main-container">
			<!-- Left panel -->
			<div class="left-panel">
				<div class="logo"><i class="fas fa-book-open"></i></div>
				<div class="brand-name">BooksPoint</div>
				<div class="tagline">Your gateway to knowledge</div>
			</div>

			<!-- Right panel -->
			<div class="right-panel">
				<div id="form-container" data-view="@(ViewBag.CurrentView ?? "login")">

					<!-- Login Form -->
					<div id="login-form">
						<h1 class="auth-heading mb-2">Welcome Back to BooksPoint</h1>
						<h2 class="welcome-title mb-4">Sign In</h2>

						<div id="error-summary-login">
							@if (ViewBag.LoginError != null)
							{
								<div class="alert alert-danger">
									@ViewBag.LoginError
								</div>
							}
						</div>

						<form id="loginForm" asp-action="Login" method="post" class="needs-validation" novalidate>
							@Html.AntiForgeryToken()
							<div class="mb-3">
								<label asp-for="Login.Email" class="form-label"></label>
								<input asp-for="Login.Email" class="form-control" placeholder="Enter email address" required />
								<div class="invalid-feedback">
									Please enter a valid email address.
								</div>
								<span asp-validation-for="Login.Email" class="text-danger small"></span>
							</div>

							<div class="mb-3">
								<label asp-for="Login.Password" class="form-label"></label>
								<input asp-for="Login.Password" type="password" class="form-control" placeholder="Enter password" required />
								<div class="invalid-feedback">
									Please enter your password.
								</div>
								<span asp-validation-for="Login.Password" class="text-danger small"></span>
							</div>

							<button type="submit" class="btn btn-primary w-100">
								<span class="spinner-border spinner-border-sm me-2" style="display: none;" role="status" aria-hidden="true"></span>
								Login
							</button>
						</form>
					</div>

					<!-- Register Form -->
					<div id="register-form" style="display: none;">
						<h2 class="welcome-title mb-4">Register</h2>

						<div id="error-summary-register">
							@if (ViewBag.RegisterError != null)
							{
								<div class="alert alert-danger">
									@ViewBag.RegisterError
								</div>
							}
						</div>

						<form id="registerForm" asp-action="Register" method="post" class="needs-validation" novalidate>
							@Html.AntiForgeryToken()
							<div class="mb-3">
								<label asp-for="Register.UserName" class="form-label"></label>
								<input asp-for="Register.UserName" class="form-control" placeholder="Enter username" required />
								<div class="invalid-feedback">
									Username must be at least 3 characters long.
								</div>
								<span asp-validation-for="Register.UserName" class="text-danger small"></span>
							</div>

							<div class="mb-3">
								<label asp-for="Register.Email" class="form-label"></label>
								<input asp-for="Register.Email" class="form-control" placeholder="Enter email address" required />
								<div class="invalid-feedback">
									Please enter a valid email address.
								</div>
								<span asp-validation-for="Register.Email" class="text-danger small"></span>
							</div>

							<div class="mb-3">
								<label asp-for="Register.Password" class="form-label"></label>
								<input asp-for="Register.Password" type="password" class="form-control" placeholder="Enter password" required />
								<div class="invalid-feedback">
									Password must be at least 6 characters and contain uppercase, lowercase, and number.
								</div>
								<div class="valid-feedback">
									Password strength looks good!
								</div>
								<span asp-validation-for="Register.Password" class="text-danger small"></span>
							</div>

							<div class="mb-3">
								<label asp-for="Register.ConfirmPassword" class="form-label"></label>
								<input asp-for="Register.ConfirmPassword" type="password" class="form-control" placeholder="Confirm password" required />
								<div class="invalid-feedback">
									Passwords do not match.
								</div>
								<span asp-validation-for="Register.ConfirmPassword" class="text-danger small"></span>
							</div>

							<button type="submit" class="btn btn-primary w-100">
								<span class="spinner-border spinner-border-sm me-2" style="display: none;" role="status" aria-hidden="true"></span>
								Register
							</button>
						</form>
					</div>

					<br />
					<!-- Toggle link -->
					<div class="signup-link">
						<span id="toggle-text">Don't have an account?</span>
						<a href="#" id="toggle-link">Register</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="~/js/LoginRegister.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}